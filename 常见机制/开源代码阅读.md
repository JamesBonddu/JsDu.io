> awx 的swagger 逻辑

https://github.com/ansible/awx/blob/29926ba5d9/awx/api/swagger.py

> awx 的rest 分页插件

https://github.com/ansible/awx/blob/29926ba5d9/awx/api/pagination.py

> awx 的认证逻辑

https://github.com/ansible/awx/blob/29926ba5d9/awx/api/authentication.py

> mozilla addons-server JWT 认证逻辑

https://github.com/mozilla/addons-server/blob/master/src/olympia/api/jwt_auth.py

> mozilla addons-server 文件上传,下载
https://github.com/mozilla/addons-server/blob/master/src/olympia/files/models.py

https://github.com/mozilla/addons-server/blob/master/src/olympia/versions/views.py

> mozilla addons-server 的feed机制实现

```python
"""
feed 信息组成:
- addon_items 插件列表
- pager 分页器
- activities 活动
- rss RSS订阅地址
- addon 插件信息
activities [menuitem (id, text, url, selected)]

_get_items: 从ActivityLog中筛选出不同action的数据.com
"""
data = dict(
   addons=addon_items, pager=pager, activities=activities, rss=rssurl, addon=addon
)
```

https://github.com/mozilla/addons-server/blob/master/src/olympia/devhub/views.py

> mozilla addons-server 的工具函数

- 包含分页 paginate 支持ESPaginator和DjangoPaginator
- 邮件发送 send_mail
- chunked 数组, partial, sorted_groupby
https://github.com/mozilla/addons-server/blob/master/src/olympia/amo/utils.py

> mozilla addons-server version edit 插件多版本管理设计

_submit_source 创建新的内容的步骤
- 获取最新的版本信息 version or addon.find_latest_version(channel=None)
- 构建sourceform
- 创建或更新 AddonReviewerFlags
- 创建 ActivityLog 活动日志包含
    user, action, details
- 创建版本日志信息 VersionLog包含
    version_id, activity_log
整体结构:
    - 输入
    request, addon, version, next_view
    - 输出
    context = {
        'form': form,
        'addon': addon,
        'version': version,
        'submit_page': 'version' if version else 'addon',
    }


## 版本管理核心Mixin

OnChangeMixin 带有on_change 观察新旧值修改的hook, _NoChangeInstance 作为一个proxy保证on_change的hook操作安全, 多版本的软删除策delete.

ManagerBase 带有翻译转换的Queryset.

Mixin for a Model that allows you to observe attribute changes.

https://github.com/mozilla/addons-server/blob/0baa658eb929af8e9d0762efb1691fb600b304c2/src/olympia/amo/models.py#L173


version_edit
例如:该addon对于的插件版本管理
https://addons.mozilla.org/zh-CN/firefox/addon/intention/versions/?utm_content=homepage-sponsored-shelf&utm_medium=referral&utm_source=addons.mozilla.org


https://github.com/mozilla/addons-server/blob/master/src/olympia/devhub/views.py

# addon-server 关于git diff的功能

关于pygit2的使用
https://www.pygit2.org/
https://github.com/libgit2/pygit2

https://github.com/mozilla/addons-server/blob/cdc29e627fb76332f56412f87fce72f599d0c05e/src/olympia/git/utils.py#L165

django-waffle 对于功能的开关控制
https://waffle.readthedocs.io/en/stable/index.html